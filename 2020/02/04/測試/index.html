<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>bli-dp 測試流程222 | Ken.logs</title>
    <meta name="description" content="

#work/iisi/project/2019/MyData
Gen private key
openssl genrsa -out bli-dp.key 2048
Gen CSR
`openssl req -new -key bli-dp.key -out b ...">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.2302b1a0.css" as="style"><link rel="preload" href="/blog/assets/js/app.969fbb9c.js" as="script"><link rel="preload" href="/blog/assets/js/4.863ea5dd.js" as="script"><link rel="preload" href="/blog/assets/js/5.6f9b7049.js" as="script"><link rel="preload" href="/blog/assets/js/27.de57dddf.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.ecec3bb4.js"><link rel="prefetch" href="/blog/assets/js/10.7eae828b.js"><link rel="prefetch" href="/blog/assets/js/11.05690cb3.js"><link rel="prefetch" href="/blog/assets/js/12.951ff78d.js"><link rel="prefetch" href="/blog/assets/js/13.3a6baf10.js"><link rel="prefetch" href="/blog/assets/js/14.86147a2d.js"><link rel="prefetch" href="/blog/assets/js/15.0ea886ed.js"><link rel="prefetch" href="/blog/assets/js/16.6720c24e.js"><link rel="prefetch" href="/blog/assets/js/17.b528ea61.js"><link rel="prefetch" href="/blog/assets/js/18.62fce78e.js"><link rel="prefetch" href="/blog/assets/js/19.0062a94c.js"><link rel="prefetch" href="/blog/assets/js/20.287981a6.js"><link rel="prefetch" href="/blog/assets/js/21.400d7c1d.js"><link rel="prefetch" href="/blog/assets/js/22.ff8e1ccf.js"><link rel="prefetch" href="/blog/assets/js/23.2dccdf2b.js"><link rel="prefetch" href="/blog/assets/js/24.8ec9d812.js"><link rel="prefetch" href="/blog/assets/js/25.29932ef3.js"><link rel="prefetch" href="/blog/assets/js/26.bb926fe5.js"><link rel="prefetch" href="/blog/assets/js/28.bef3c191.js"><link rel="prefetch" href="/blog/assets/js/29.7df006b0.js"><link rel="prefetch" href="/blog/assets/js/6.786902bb.js"><link rel="prefetch" href="/blog/assets/js/7.99dcd4dd.js"><link rel="prefetch" href="/blog/assets/js/8.24f39a9b.js"><link rel="prefetch" href="/blog/assets/js/9.d2d9c5af.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.6c25f9f5.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.2302b1a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">Ken.logs </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="https://github.com/kengp3" target="_blank" rel="noopener noreferrer" class="nav-link external">Github</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">Ken.logs </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="https://github.com/kengp3" target="_blank" rel="noopener noreferrer" class="nav-link external">Github</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="bli-dp-測試流程222"><a href="#bli-dp-測試流程222" class="header-anchor">#</a> bli-dp 測試流程222</h1> <p><img src="https://gyazo.com/eb5c5741b6a9a16c692170a41a49c858.png" alt=""></p> <p>#work/iisi/project/2019/MyData</p> <ul><li>Gen private key
<code>openssl genrsa -out bli-dp.key 2048</code></li> <li>Gen CSR
<code>openssl req -new -key bli-dp.key -out bli-dp.csr</code></li> <li>bli-dp.csr
<code>openssl req -text -in bli-dp.csr -noout</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>Certificate Request:
    Data:
        Version: 0 (0x0)
        Subject: C=TW, ST=Taipei, L=Taipei, O=BLI, OU=BLI, CN=MyData/emailAddress=demo@bli.gov.tw
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:c3:42:f6:0f:24:e7:8d:51:ed:88:8b:87:25:37:
                    83:b2:50:d8:33:85:1e:99:9d:91:56:c9:17:38:03:
                    4a:1f:95:c9:a4:7d:c8:cb:6f:6a:c9:66:18:b7:67:
                    d9:00:56:ff:81:42:ce:38:10:3a:c3:64:dd:27:3a:
                    7c:7a:e9:84:88:aa:34:40:14:64:63:8e:74:72:84:
                    a7:67:ba:66:16:b5:ca:af:ef:81:33:54:df:c7:39:
                    92:d4:45:dc:2e:41:f0:6c:4b:90:78:4d:69:1d:5b:
                    d9:a3:b4:e3:57:29:f5:c1:f6:6c:48:bb:a3:ec:f1:
                    61:18:7e:30:6e:0c:05:64:83:61:84:02:6d:eb:32:
                    8d:1b:29:6c:13:ec:8d:0d:6e:14:c5:91:aa:87:6d:
                    06:c9:d9:fe:95:25:8d:60:d9:45:32:d4:75:cf:a1:
                    fe:e5:bc:d4:44:bb:96:73:fc:e4:89:c6:3f:72:c5:
                    53:30:04:32:cf:84:16:41:99:32:ed:bb:f2:0a:99:
                    b3:c8:93:8a:f5:be:ac:32:93:42:4a:eb:2e:99:79:
                    2f:05:7d:15:90:90:77:48:c7:db:98:f8:f0:40:8e:
                    3e:5d:09:c3:a6:73:e3:73:b1:9a:33:b2:01:33:f3:
                    c2:b7:b1:dd:4a:1c:d6:df:d1:65:43:51:e4:3f:cb:
                    67:4d
                Exponent: 65537 (0x10001)
        Attributes:
            a0:00
    Signature Algorithm: sha256WithRSAEncryption
         8f:94:60:04:a6:9b:53:52:af:3f:65:94:33:cf:31:33:5d:46:
         42:dc:da:48:90:e7:57:96:77:7e:fb:96:02:e8:94:b2:e4:3b:
         0a:66:5f:8c:47:9d:93:cd:a6:17:26:5d:ce:ef:fb:6d:93:c0:
         64:23:18:e1:de:c9:9a:5e:25:38:23:dd:2f:39:25:ed:39:8c:
         fc:c8:0c:21:5a:02:48:78:5f:e5:fb:7c:07:b1:6e:69:b1:4f:
         07:da:86:2c:92:71:1d:df:ea:a7:54:6d:08:57:7f:98:3c:f0:
         ee:25:6a:c7:7e:6c:2c:2c:f4:24:7c:2e:fc:8b:16:73:82:53:
         7e:35:ca:47:08:b7:3e:c9:09:04:25:86:bb:a7:f1:80:65:88:
         9b:ae:96:4a:a3:c2:47:2c:d2:c1:20:3d:f4:22:a7:76:b2:1b:
         01:73:43:c2:cf:37:6f:c8:1a:c2:59:1d:99:87:55:62:80:23:
         5e:76:97:82:0d:f9:98:2c:b3:35:cc:72:21:82:21:a9:da:24:
         44:99:28:f7:fe:9a:ac:0d:40:e4:38:b0:d6:3b:23:e8:36:c5:
         ca:63:a7:71:0f:f7:18:73:cf:dd:30:b0:d4:f8:e4:22:c9:bc:
         24:0a:7d:ef:94:e2:a4:bf:bb:ff:7c:03:f1:1d:82:03:a6:3d:
         0e:ca:d1:59
</code></pre></div><ul><li>from <strong>GCA TEST</strong> get .cer file
<code>openssl x509 -noout -text -in bli-dp.cer</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            6a:c2:fd:f5:24:fd:ad:32:6a:a1:95:56:5e:ce:ec:93
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=TW, O=\xE8\xA1\x8C\xE6\x94\xBF\xE9\x99\xA2, OU=(\xE6\xB8\xAC\xE8\xA9\xA6\xE7\x94\xA8) \xE6\x94\xBF\xE5\xBA\x9C\xE6\xB8\xAC\xE8\xA9\xA6\xE6\x86\x91\xE8\xAD\x89\xE7\xAE\xA1\xE7\x90\x86\xE4\xB8\xAD\xE5\xBF\x83
        Validity
            Not Before: Aug  7 03:25:32 2019 GMT
            Not After : Feb  7 03:25:32 2020 GMT
        Subject: C=TW, L=\xE8\x87\xBA\xE5\x8C\x97\xE5\xB8\x82, O=\xE6\xB8\xAC\xE8\xA9\xA6\xE6\xA9\x9F\xE9\x97\x9C1, OU=\xE6\xB8\xAC\xE8\xA9\xA6\xE9\x99\x84\xE5\xB1\xAC\xE6\xA9\x9F\xE9\x97\x9C2, OU=\xE6\xB8\xAC\xE8\xA9\xA6\xE9\x99\x84\xE5\xB1\xAC\xE5\x96\xAE\xE4\xBD\x8D3, OU=\xE6\xB8\xAC\xE8\xA9\xA6\xE9\x99\x84\xE5\xB1\xAC\xE5\x96\xAE\xE4\xBD\x8D4
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:c3:42:f6:0f:24:e7:8d:51:ed:88:8b:87:25:37:
                    83:b2:50:d8:33:85:1e:99:9d:91:56:c9:17:38:03:
                    4a:1f:95:c9:a4:7d:c8:cb:6f:6a:c9:66:18:b7:67:
                    d9:00:56:ff:81:42:ce:38:10:3a:c3:64:dd:27:3a:
                    7c:7a:e9:84:88:aa:34:40:14:64:63:8e:74:72:84:
                    a7:67:ba:66:16:b5:ca:af:ef:81:33:54:df:c7:39:
                    92:d4:45:dc:2e:41:f0:6c:4b:90:78:4d:69:1d:5b:
                    d9:a3:b4:e3:57:29:f5:c1:f6:6c:48:bb:a3:ec:f1:
                    61:18:7e:30:6e:0c:05:64:83:61:84:02:6d:eb:32:
                    8d:1b:29:6c:13:ec:8d:0d:6e:14:c5:91:aa:87:6d:
                    06:c9:d9:fe:95:25:8d:60:d9:45:32:d4:75:cf:a1:
                    fe:e5:bc:d4:44:bb:96:73:fc:e4:89:c6:3f:72:c5:
                    53:30:04:32:cf:84:16:41:99:32:ed:bb:f2:0a:99:
                    b3:c8:93:8a:f5:be:ac:32:93:42:4a:eb:2e:99:79:
                    2f:05:7d:15:90:90:77:48:c7:db:98:f8:f0:40:8e:
                    3e:5d:09:c3:a6:73:e3:73:b1:9a:33:b2:01:33:f3:
                    c2:b7:b1:dd:4a:1c:d6:df:d1:65:43:51:e4:3f:cb:
                    67:4d
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Authority Key Identifier:
                keyid:77:AF:D0:65:87:EE:1D:C8:A9:F6:97:A0:25:47:0E:C9:95:DA:71:AB

            X509v3 Subject Key Identifier:
                C3:F9:99:16:09:89:03:2D:4C:C0:DE:A8:29:B9:92:26:DF:C7:5B:E0
            X509v3 Key Usage: critical
                Digital Signature
            X509v3 Certificate Policies:
                Policy: 2.16.886.101.0.3.0

            X509v3 Subject Alternative Name:
                email:demo123@cht.com.tw
            X509v3 Subject Directory Attributes:
                0Q0...`.v.d..1...`.v.d....0...`.v.d..1...primary0!..`.v.d.f1...`.v.e.....!..2..C..D
            X509v3 CRL Distribution Points:

                Full Name:
                  URI:http://gtestca.nat.gov.tw/crl/GTestCA2/8888-1/complete.crl

                Full Name:
                  URI:http://gtestca.nat.gov.tw/crl/GTestCA2/complete.crl

            X509v3 Extended Key Usage: critical
                TLS Web Client Authentication, E-mail Protection
            Authority Information Access:
                CA Issuers - URI:http://gtestca.nat.gov.tw/certs/IssuedToThisCA.p7b
                OCSP - URI:http://gtestca.nat.gov.tw/OCSP/ocsp

    Signature Algorithm: sha256WithRSAEncryption
         93:ec:df:24:d2:c9:6a:65:b6:53:7a:9a:01:f8:14:57:05:73:
         16:5a:af:30:9f:93:49:11:fc:03:b0:e3:38:83:13:54:f2:72:
         05:40:cd:90:3f:f5:0c:c7:d2:81:82:d8:90:84:a1:28:a1:9a:
         84:3d:18:91:c6:f3:0e:7f:64:33:52:de:14:b6:f8:dd:7e:3e:
         f2:5d:bf:2e:27:97:99:3f:92:4b:25:7e:e1:d8:b9:14:05:ee:
         cb:3a:52:c1:c7:3f:16:1b:a0:56:2f:73:54:45:7c:8f:38:36:
         1c:4c:57:23:b6:87:a0:d1:c4:37:e0:82:a7:9a:62:92:9a:74:
         f1:8e:06:c5:a1:77:63:63:b1:0d:f5:0c:b9:c6:56:5d:f7:63:
         4b:8d:c0:9e:17:bd:da:db:66:4c:5d:1b:bc:77:ef:f0:16:43:
         c1:04:be:fa:c7:09:2d:d2:c2:e2:22:77:a5:a0:b8:c1:5c:18:
         b5:cd:d5:2e:05:6a:84:98:72:17:b9:d4:54:5e:23:29:a8:5b:
         30:b1:6d:ff:48:81:cc:94:84:0b:ac:1b:05:bb:96:d2:df:88:
         75:3a:87:16:bc:93:3a:0c:00:35:15:48:08:ce:74:b7:49:d8:
         c8:d6:95:9f:a4:33:5a:2d:cf:d3:98:69:1c:df:02:06:79:a7:
         7e:e3:0c:f8
</code></pre></div><ul><li>merge cer and key to pfx
<code>openssl pkcs12 -export -in bli-dp.cer -inkey bli-dp.key -out bli-dp.pfx -name bli-dp -password pass:222222</code></li> <li>Gen keystore
<code>keytool -importkeystore -srckeystore bli-dp.pfx -srcalias bli-dp -srcstoretype PKCS12 -srcstorepass 222222 -deststorepass 222222 -deststoretype PKCS12 -destkeystore bli-dp.keystore -destalias bli-dp</code></li> <li>keystone info
<code>keytool -v -list -keystore bli-dp.keystore</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>金鑰儲存庫類型: PKCS12
金鑰儲存庫提供者: SUN

您的金鑰儲存庫包含 1 項目

別名名稱: bli-dp
建立日期: 2019/8/7
項目類型: PrivateKeyEntry
憑證鏈長度: 1
憑證 [1]:
擁有者: OU=測試附屬單位4, OU=測試附屬單位3, OU=測試附屬機關2, O=測試機關1, L=臺北市, C=TW
發行人: OU=(測試用) 政府測試憑證管理中心, O=行政院, C=TW
序號: 6ac2fdf524fdad326aa195565eceec93
有效期自: Wed Aug 07 11:25:32 CST 2019 到: Fri Feb 07 11:25:32 CST 2020
憑證指紋:
	 MD5:  20:F3:11:FD:06:DD:74:F4:A8:EE:10:0B:78:EF:77:0B
	 SHA1: EE:DD:C7:B3:04:36:5F:FE:36:23:ED:0E:6B:F7:88:94:E0:31:97:0B
	 SHA256: 08:BF:6A:0E:C7:CE:CD:8E:AC:28:F6:C9:1E:CB:3A:22:94:83:21:73:37:D3:9C:97:0B:C0:D7:82:4C:6A:92:D3
簽章演算法名稱: SHA256withRSA
主體公開金鑰演算法: 2048 位元的 RSA 金鑰
版本: 3

擴充套件: 

#1: ObjectId: 2.5.29.9 Criticality=false
0000: 30 51 30 16 06 07 60 86   76 01 64 02 01 31 0B 06  0Q0...`.v.d..1..
0010: 09 60 86 76 01 64 03 02   01 02 30 14 06 07 60 86  .`.v.d....0...`.
0020: 76 01 64 02 02 31 09 13   07 70 72 69 6D 61 72 79  v.d..1...primary
0030: 30 21 06 07 60 86 76 01   64 02 66 31 16 06 14 60  0!..`.v.d.f1...`
0040: 86 76 01 65 85 BF 13 81   9C 21 81 EA 32 82 B8 43  .v.e.....!..2..C
0050: 82 B8 44                                           ..D


#2: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false
AuthorityInfoAccess [
  [
   accessMethod: caIssuers
   accessLocation: URIName: http://gtestca.nat.gov.tw/certs/IssuedToThisCA.p7b
, 
   accessMethod: ocsp
   accessLocation: URIName: http://gtestca.nat.gov.tw/OCSP/ocsp
]
]

#3: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: 77 AF D0 65 87 EE 1D C8   A9 F6 97 A0 25 47 0E C9  w..e........%G..
0010: 95 DA 71 AB                                        ..q.
]
]

#4: ObjectId: 2.5.29.31 Criticality=false
CRLDistributionPoints [
  [DistributionPoint:
     [URIName: http://gtestca.nat.gov.tw/crl/GTestCA2/8888-1/complete.crl]
, DistributionPoint:
     [URIName: http://gtestca.nat.gov.tw/crl/GTestCA2/complete.crl]
]]

#5: ObjectId: 2.5.29.32 Criticality=false
CertificatePolicies [
  [CertificatePolicyId: [2.16.886.101.0.3.0]
[]  ]
]

#6: ObjectId: 2.5.29.37 Criticality=true
ExtendedKeyUsages [
  clientAuth
  emailProtection
]

#7: ObjectId: 2.5.29.15 Criticality=true
KeyUsage [
  DigitalSignature
]

#8: ObjectId: 2.5.29.17 Criticality=false
SubjectAlternativeName [
  RFC822Name: demo123@cht.com.tw
]

#9: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: C3 F9 99 16 09 89 03 2D   4C C0 DE A8 29 B9 92 26  .......-L...)..&amp;
0010: DF C7 5B E0                                        ..[.
]
]



*******************************************
*******************************************
</code></pre></div></div> <!----> <hr> <!----></div> <!----></div></div> <footer class="footer" data-v-582f9766><div class="footer-left-wrap" data-v-582f9766><ul class="contact" data-v-582f9766><li class="contact-item" data-v-582f9766><a href="https://github.com/kengp3" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-582f9766><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-582f9766></path></svg>
          
        </a></li><li class="contact-item" data-v-582f9766><a href="mailto:sibawite@gmail.com" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-582f9766><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-582f9766></path><polyline points="22,6 12,13 2,6" data-v-582f9766></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-582f9766><ul class="copyright" data-v-582f9766><li class="copyright-item" data-v-582f9766><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766>Privacy Policy</a></li><li class="copyright-item" data-v-582f9766><a href="/blog/2020/02/04/%E6%B8%AC%E8%A9%A6/.html" class="nav-link" data-v-582f9766>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.969fbb9c.js" defer></script><script src="/blog/assets/js/4.863ea5dd.js" defer></script><script src="/blog/assets/js/5.6f9b7049.js" defer></script><script src="/blog/assets/js/27.de57dddf.js" defer></script>
  </body>
</html>
